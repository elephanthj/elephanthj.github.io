import{W as b,$ as N,a as p,m as D,at as T,ay as I,r as V,ae as $,o as n,e as C,ax as o,aE as _,au as f,av as i,b4 as h,F,aw as W,aC as u,aA as A,aB as E}from"./_plugin-vue_export-helper-bbba385e.js";import{V as L,W as U,C as H,D as M,P as q,x as g}from"./index-16e70b89.js";/* empty css              *//* empty css              *//* empty css              */import"./index-63b62995.js";/* empty css              */import{s as R}from"./SimpleHeader-28df6d57.js";import{a as j,b as z,d as G,p as J}from"./order-986f2179.js";import{s as K}from"./index-26cc54c3.js";import{B as Q}from"./index-dd584e6f.js";import{C as X}from"./index-f997a1f4.js";import"./index-12e6fac2.js";import"./use-placeholder-fe19c35b.js";import"./index-996380db.js";let y;const Y={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let Z=b({},Y);function tt(){({instance:y}=L({setup(){const{state:d,toggle:t}=U();return()=>p(K,D(d,{"onUpdate:show":t}),null)}}))}function et(a){return N?new Promise((d,t)=>{y||tt(),y.open(b({},Z,a,{callback:r=>{(r==="confirm"?d:t)(r)}}))}):Promise.resolve()}const w=a=>et(b({showCancelButton:!0},a));const m=a=>(A("data-v-7a29641f"),a=a(),E(),a),ot={class:"order-detail-box"},st={class:"order-status"},at={class:"status-item"},lt=m(()=>o("label",null,"订单状态：",-1)),rt={class:"status-item"},nt=m(()=>o("label",null,"订单编号：",-1)),it={class:"status-item"},dt=m(()=>o("label",null,"下单时间：",-1)),ct={class:"order-price"},ut={class:"price-item"},pt=m(()=>o("label",null,"商品金额：",-1)),mt=m(()=>o("div",{class:"price-item"},[o("label",null,"配送方式："),o("span",null,"普通快递")],-1)),_t={style:{width:"90%",margin:"0 auto",padding:"20px 0"}},ft={__name:"OrderDetail",setup(a){const d=I(),t=V({detail:{},showPay:!1});$(()=>{r()});const r=async()=>{H({message:"加载中...",forbidClick:!0});const{id:l}=d.query,{data:e}=await j(l);t.detail=e,M()},k=l=>{w({title:"确认取消订单？"}).then(()=>{z(l).then(e=>{e.resultCode==200&&(g("删除成功"),r())})}).catch(()=>{})},B=l=>{w({title:"是否确认订单？"}).then(()=>{G(l).then(e=>{e.resultCode==200&&(g("确认成功"),r())})}).catch(()=>{})},O=()=>{t.showPay=!0},v=async(l,e)=>{await J({orderNo:l,payType:e}),t.showPay=!1,r()},P=()=>{};return(l,e)=>{const c=Q,x=X,S=q;return n(),C("div",ot,[p(R,{name:"订单详情",onCallback:P}),o("div",st,[o("div",at,[lt,o("span",null,_(t.detail.orderStatusString),1)]),o("div",rt,[nt,o("span",null,_(t.detail.orderNo),1)]),o("div",it,[dt,o("span",null,_(t.detail.createTime),1)]),t.detail.orderStatus==3?(n(),f(c,{key:0,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:e[0]||(e[0]=s=>B(t.detail.orderNo))},{default:i(()=>[u("确认收货")]),_:1})):h("",!0),t.detail.orderStatus==0?(n(),f(c,{key:1,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:O},{default:i(()=>[u("去支付")]),_:1})):h("",!0),t.detail.orderStatus<0||t.detail.orderStatus==4?h("",!0):(n(),f(c,{key:2,block:"",onClick:e[1]||(e[1]=s=>k(t.detail.orderNo))},{default:i(()=>[u("取消订单")]),_:1}))]),o("div",ct,[o("div",ut,[pt,o("span",null,"¥ "+_(t.detail.totalPrice),1)]),mt]),(n(!0),C(F,null,W(t.detail.newBeeMallOrderItemVOS,s=>(n(),f(x,{key:s.goodsId,style:{background:"#fff"},num:s.goodsCount,price:s.sellingPrice,desc:"全场包邮",title:s.goodsName,thumb:l.$filters.prefix(s.goodsCoverImg)},null,8,["num","price","title","thumb"]))),128)),p(S,{show:t.showPay,"onUpdate:show":e[4]||(e[4]=s=>t.showPay=s),position:"bottom",style:{height:"24%"}},{default:i(()=>[o("div",_t,[p(c,{style:{marginBottom:"10px"},color:"#1989fa",block:"",onClick:e[2]||(e[2]=s=>v(t.detail.orderNo,1))},{default:i(()=>[u("支付宝支付")]),_:1}),p(c,{color:"#4fc08d",block:"",onClick:e[3]||(e[3]=s=>v(t.detail.orderNo,2))},{default:i(()=>[u("微信支付")]),_:1})])]),_:1},8,["show"])])}}},Tt=T(ft,[["__scopeId","data-v-7a29641f"]]);export{Tt as default};
