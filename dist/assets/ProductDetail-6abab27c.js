import{ay as k,u as B,r as L,ae as S,Q as T,o as i,e as p,a as s,ax as t,av as r,aE as m,F as A,aw as I,au as D,f as g}from"./_plugin-vue_export-helper-bbba385e.js";import{E,G as H,b as M,S as N,J as v,x as P}from"./index-16e70b89.js";import"./index-63b62995.js";/* empty css              */import{a as $}from"./good-bc298a63.js";import{s as F}from"./SimpleHeader-28df6d57.js";import{A as R}from"./index-93fa200c.js";import{A as V,a as q}from"./index-12e6fac2.js";import"./use-placeholder-fe19c35b.js";import"./index-dd584e6f.js";const G={class:"product-detail"},J={class:"detail-content"},Q={class:"detail-swipe-wrap"},j=["src"],z={class:"product-info"},K={class:"product-title"},O=t("div",{class:"product-desc"},"免邮费 顺丰快递",-1),U={class:"product-price"},W={class:"product-intro"},X=t("ul",null,[t("li",null,"概述"),t("li",null,"参数"),t("li",null,"安装服务"),t("li",null,"常见问题")],-1),Y=["innerHTML"],lt={__name:"ProductDetail",setup(Z){const C=k(),d=B(),n=E(),o=L({detail:{goodsCarouselList:[]}});S(async()=>{const{id:a}=C.params,{data:e}=await $(a);e.goodsCarouselList=e.goodsCarouselList.map(c=>H(c)),o.detail=e,n.updateCart()}),T(()=>{const a=document.querySelector(".detail-content");a.scrollTop=0});const h=()=>{d.push({path:"/cart"})},f=async()=>{const{resultCode:a}=await v({goodsCount:1,goodsId:o.detail.goodsId});a==200&&P("添加成功"),n.updateCart()},x=async()=>{await v({goodsCount:1,goodsId:o.detail.goodsId}),n.updateCart(),d.push({path:"/cart"})};return(a,e)=>{const c=M,w=N,l=R,u=V,y=q;return i(),p("div",G,[s(F,{name:"商品详情"}),t("div",J,[t("div",Q,[s(w,{class:"my-swipe","indicator-color":"#1baeae"},{default:r(()=>[(i(!0),p(A,null,I(o.detail.goodsCarouselList,(_,b)=>(i(),D(c,{key:b},{default:r(()=>[t("img",{src:_,alt:""},null,8,j)]),_:2},1024))),128))]),_:1})]),t("div",z,[t("div",K,m(o.detail.goodsName||""),1),O,t("div",U,[t("span",null,"¥"+m(o.detail.sellingPrice||""),1)])]),t("div",W,[X,t("div",{class:"product-content",innerHTML:o.detail.goodsDetailContent||""},null,8,Y)])]),s(y,null,{default:r(()=>[s(l,{icon:"chat-o",text:"客服"}),s(l,{icon:"cart-o",badge:g(n).count?g(n).count:"",onClick:e[0]||(e[0]=_=>h()),text:"购物车"},null,8,["badge"]),s(u,{type:"warning",onClick:f,text:"加入购物车"}),s(u,{type:"danger",onClick:x,text:"立即购买"})]),_:1})])}}};export{lt as default};
